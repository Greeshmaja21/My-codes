import requests
import pandas as pd
 
# Replace with your desired city
city = "London"
 
# Replace with your actual API key
api_key = "f266af4b2e0ca961ac67ed1a85811f38"
 
# Define the API URL
api_url = f"https://api.openweathermap.org/data/2.5/weather?q={city}&appid={api_key}"
 
# Make the API request and parse the response
response = requests.get(api_url)
data = response.json()
 
# Check if the request was successful (status code 200)
if response.status_code == 200:
    # Extract relevant information from the response
    weather_info = {
        "City": data['name'],
        "Temperature_K": data['main']['temp'],
        "Temperature_F": (data['main']['temp'] - 273.15) * 9/5 + 32,
        "Humidity": data['main']['humidity'],
        "Weather": data['weather'][0]['description']
    }
 
    # Create a DataFrame
    df = pd.DataFrame([weather_info])
 
    # Print the resulting dataframe
    print(df)
else:
    print(f"Error: {response.status_code} - {data['message']}")
